{% extends 'foliomine/base.html' %}

{% block content %}
    <div class="flex justify-center">
        <div class="flex flex-col mx-40 w-full">
            <div class="flex flex-row items-center justify-evenly">
                <div class="border rounded-full w-48 h-48 object-center overflow-hidden">
                    {% if profile.profile_photo %}
                        <img src="{{profile.profile_photo.url}}" alt="Profile Photo" title="Profile Photo">
                    {% else %}
                        <img src="/media/profile_photos/th-1023457698_rpy3vkN.jpg" alt="Profile Photo" title="Profile Photo">
                    {% endif %}
                </div>
                <div class="flex flex-col">
                    <div class="text-slate-100 text-5xl mx-40">
                        <p>{{profile.first_name}} {{profile.last_name}}</p>
                    </div>
                    <div class="mt-4 mx-40">
                    
                        <button class=" relative bg-gradient-to-br from-black to-gray-800  px-4 py-2 text-slate-100 rounded-2xl transition duration-400 ease-out hover:from-gray-800 hover:to-black hover:ring-2 hover:ring-gray-500">
                            
                            <a href="{{profile.github_link}}" class="">
                                <span class="fa-brands fa-md fa-github mx-1"></span> 
                                <span>GitHub</span> 
                            </a>
                            
                        </button>
                        
                        <button class="ml-3 relative bg-gradient-to-br from-[#1d9bf0] to-blue-800  px-4 py-2 text-slate-100 rounded-2xl transition duration-400 ease-out hover:from-blue-800 hover:to-[#1d9bf0] hover:ring-2 hover:ring-gray-500 shadow-md">
                            
                            <a href="{{profile.twitter_link}}" class="">
                                <span class="fa-brands fa-md fa-twitter mx-1"></span> 
                                <span>Twitter</span> 
                            </a>
                            
                        </button>
        
                        <button class="ml-3 relative bg-gradient-to-br from-[#0b5fbb] to-login_blue  px-4 py-2 text-slate-100 rounded-2xl transition duration-400 ease-out hover:from-login_blue hover:to-[#0b5fbb] hover:ring-2 hover:ring-gray-500 shadow-md">
                            
                            <a href="{{profile.linkedin_link}}" class="">
                                <span class="fa-brands fa-md fa-linkedin-in mx-1"></span> 
                                <span>LinkedIn</span> 
                            </a>

                        </button>
                    </div>
                </div>
            </div>
            <div>
                <div class="flex justify-center">
                    <div class="text-slate-100 text-4xl mt-10 underline underline-offset-8 decoration-4 decoration-green-300">
                        <p>About me</p>
                    </div>
                </div>
                <div class="text-slate-100 text-md mt-10 flex-wrap">
                    <p>{{profile.about}}</p>
                </div>
            </div>
            {% if experiences %}
                <div class="flex justify-center">
                    {% if exp_len > 1 %}
                        <div class="text-slate-100 text-4xl mt-10 underline underline-offset-8 decoration-4 decoration-indigo-500">
                            Experiences
                        </div>
                    {% else %}
                        <div class="text-slate-100 text-4xl mt-10 underline underline-offset-8 decoration-4 decoration-indigo-500">
                            Experience
                        </div>
                    {% endif %}
                </div>
                <br class="mb-10">
                <div class="flex justify-center">
                    <div class="flex-col justify-center">
                    {% for experience in experiences %}
                        <div class="text-slate-100 text-2xl text-center">
                            {{ experience.job_profile }}
                        </div>
                        <div class="text-slate-100 text-xl mt-2 text-center">
                            {{ experience.company_name }}
                        </div>
                        <div class="text-slate-100 text-md mt-2 text-center">
                            {{ experience.start_date }} - {{ experience.end_date }}
                        </div>

                        <div id="show-details-button{{ forloop.counter }}" onclick="show_details({{ forloop.counter }})">
                            <div class="flex justify-center">
                                <div class="w-40 border-2 border-dashed border-indigo-500 rounded-2xl hover:bg-indigo-500 cursor-pointer mt-2 transition">
                                    <p type="button" name="button" class="flex my-1 justify-center text-label_white hover:text-black">Show details</p>
                                </div>
                            </div>
                        </div>

                        <div class="text-slate-100 text-md mt-2 text-center" id="detail{{ forloop.counter }}" hidden>
                            {{ experience.details }}
                        </div>

                        {% if not forloop.last %}
                            <div class="flex justify-center">
                                <div class="w-1 h-20 border-2 border-indigo-500 rounded bg-indigo-500 mt-2 mb-2"></div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                </div>
            {% endif %}
            <br class="mb-10">

            {% if projects %}
                <div class="flex justify-center">
                    {% if proj_len > 1 %}
                        <div class="text-slate-100 text-4xl mt-10 underline underline-offset-8 decoration-4 decoration-orange-500">
                            Projects
                        </div>
                    {% else %}
                        <div class="text-slate-100 text-4xl mt-10 underline underline-offset-8 decoration-4 decoration-orange-500">
                            Project
                        </div>
                    {% endif %}
                </div>
                <br class="mb-10">
                <div class="flex justify-center">
                    <div class="flex-col justify-center">
                    {% for project in projects %}
                        <div class="text-slate-100 text-2xl text-center">
                            {{ project.project_name }}
                        </div>
                        <div class="text-slate-100 text-md mt-2 text-center">
                            {{ project.start_date }} - {{ project.end_date }}
                        </div>

                        <div id="show-proj-details-button{{ forloop.counter }}" onclick="show_details_proj({{ forloop.counter }})">
                            <div class="flex justify-center">
                                <div class="w-40 border-2 border-dashed border-orange-500 rounded-2xl hover:bg-orange-500 cursor-pointer mt-2 transition">
                                    <p type="button" name="button" class="flex my-1 justify-center text-label_white hover:text-black">Show details</p>
                                </div>
                            </div>
                        </div>

                        <div class="text-slate-100 text-md mt-2 text-center" id="proj_detail{{ forloop.counter }}" hidden>
                            {{ project.project_details }}
                        </div>
                        <br class="mb-2 mt-2">
                    {% endfor %}
                </div>
                </div>
            {% endif %}
            <br class="mb-10">
        </div>
    </div>
<script type="text/javascript">
    
    // function to show the details of experiences
    function show_details(count) {
        var show_details_button = document.getElementById('show-details-button'+count)
        var detail = document.getElementById('detail'+count)
        detail.hidden = false
        show_details_button.hidden = true
    }

    // function to show the details of projects
    function show_details_proj(count) {
        var show_details_button = document.getElementById('show-proj-details-button'+count)
        var detail = document.getElementById('proj_detail'+count)
        detail.hidden = false
        show_details_button.hidden = true
    }

</script>
    
{% endblock %}